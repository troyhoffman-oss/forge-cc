---
id: req-005
title: "Update forge:build skill and README for new sync boundaries"
dependsOn:
  - req-001
  - req-003
  - req-004
files:
  creates: []
  modifies:
    - skills/forge-build.md
    - README.md
acceptance:
  - "forge:build.md Linear State Reference table shows: Issue Planned->In Progress (at req start), Project Planned->In Progress (first req), Project In Progress->In Review (graph complete) — no Issue->Done row"
  - "forge:build.md Step 1 and Step 6 reference syncGraphProjectReview instead of syncGraphProjectDone"
  - "forge:build.md includes a note that Linear's GitHub integration handles issue review and completion states automatically via branch linking"
  - "README.md linearStates config example includes inReview: 'In Review'"
---

## Context

The forge:build skill currently documents transitions that no longer match the code after REQ-001. The Linear State Reference table shows issues moving to Done, and Step 6 calls `syncGraphProjectDone`. These need to be updated to reflect the new sync boundaries where Forge handles planning-to-execution and Linear/GitHub handles PR-to-merge.

## Technical Approach

### skills/forge-build.md changes

**Step 1 — Execution Loop:**
Update the pseudocode comment from `syncGraphProjectDone(client, index)  // Project -> Done` to `syncGraphProjectReview(client, index)  // Project -> In Review`.

Remove `syncRequirementDone(client, index, reqId)  // Issue -> Done` from the pseudocode — this function doesn't exist in the code and the concept is being removed.

**Step 6 — Completion:**
Change `syncGraphProjectDone(client, index)  // Project -> Done in Linear` to `syncGraphProjectReview(client, index)  // Project -> In Review in Linear`.

Update the completion summary to show "In Review" instead of "Done" for Linear Project status.

**Linear State Reference table:**
Replace the current table:

```
| Item | Transition | When |
|------|-----------|------|
| Issue | Planned -> In Progress | Agent starts working on requirement |
| Project | Planned -> In Progress | First requirement starts |
| Project | In Progress -> In Review | ALL requirements complete, graph done |
```

Add a note below the table:

```
**Issue review and completion:** Linear's GitHub integration handles issue transitions automatically:
- Issue -> In Review: when a PR is opened from a branch linked to the issue
- Issue -> Completed: when the PR is merged

Forge links issues to branches via `syncRequirementStart`, enabling this automation.
```

### README.md changes

Update the `linearStates` config example to include `inReview`:

```json
{
  "planned": "Planned",
  "inProgress": "In Progress",
  "inReview": "In Review",
  "done": "Done"
}
```

This is documentation-only — no config schema changes (per user decision).

## Interview Notes

- User confirmed no linearStates config field in Zod schema — categoryToName + README only
- The forge:build skill references `syncRequirementDone` in pseudocode, which doesn't exist as a real function. Remove it.
- README update is minimal — just the config example
