---
id: req-003
title: "Wire Codex review step into build, quick, and fix skills"
group: Skill Integration
dependsOn:
  - req-002
files:
  creates: []
  modifies:
    - skills/forge-build.md
    - skills/forge-quick.md
    - skills/forge-fix.md
acceptance:
  - "forge-build.md includes a Codex review step after PR creation that references ref/codex-review.md"
  - "forge-quick.md includes a Codex review step after PR creation that references ref/codex-review.md"
  - "forge-fix.md includes a Codex review step after PR creation that references ref/codex-review.md"
  - "Each skill's Codex review step is a mandatory gate — the skill cannot skip to summary without completing it"
  - "Skills still sync correctly after re-running forge setup (new ref file is picked up)"
---

## Context
Each of the three PR-creating skills needs a step that triggers the Codex Review Protocol after the PR is created. This step must be positioned between PR creation and the final summary/merge-approval step.

## Technical Approach
For each skill, add a new step after PR creation:

```markdown
### Step N — Codex Review

If a PR was created in the previous step, follow the **Codex Review Protocol** in `ref/codex-review.md`.

**This step is mandatory.** Do not skip to the summary step until the Codex review protocol completes (either comments were resolved or polling timed out with no review found).
```

Specific insertion points:
- **forge-build.md**: After the ship/PR step, before the final summary
- **forge-quick.md**: After Step 6 (Complete/PR creation), before Step 7 (Report)
- **forge-fix.md**: After PR creation, before the final report

Also verify that `forge setup` correctly syncs the new `ref/codex-review.md` file by running `npx forge setup --skills-only`.

## Interview Notes
- User wants this on every PR — no opt-out per skill
- Must be robust enough that agents can't selectively skip it
